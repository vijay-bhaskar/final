{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/somav/frontend/hapsync-frontend-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(callActivities),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(fetchActivitiesSaga);import axios from'axios';import{all,call,put,takeLatest}from'redux-saga/effects';import{fetchActivitiesError,fetchActivitiesSuccess}from'./activityActions';import{FETCH_ACTIVITIES}from'./activityConstants';var getActivities=function getActivities(id){return axios.get(\"http://localhost:8080/pulp-events/suggestions/events/\".concat(id,\"/activities\"));};export function callActivities(_ref){var eventId,response;return _regeneratorRuntime.wrap(function callActivities$(_context){while(1){switch(_context.prev=_context.next){case 0:eventId=_ref.eventId;_context.prev=1;_context.next=4;return call(function(){return getActivities(eventId);});case 4:response=_context.sent;_context.next=7;return put(fetchActivitiesSuccess({activities:response.data}));case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);_context.next=13;return put(fetchActivitiesError({error:'Failed to Get Activities'}));case 13:case\"end\":return _context.stop();}}},_marked,null,[[1,9]]);}export default function fetchActivitiesSaga(){return _regeneratorRuntime.wrap(function fetchActivitiesSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return all([takeLatest(FETCH_ACTIVITIES,callActivities)]);case 2:case\"end\":return _context2.stop();}}},_marked2);}","map":{"version":3,"sources":["C:/Users/somav/frontend/hapsync-frontend-1/src/Suggestions/Activities/store/activitySaga.ts"],"names":["callActivities","fetchActivitiesSaga","axios","all","call","put","takeLatest","fetchActivitiesError","fetchActivitiesSuccess","FETCH_ACTIVITIES","getActivities","id","get","eventId","response","activities","data","error"],"mappings":"0MAWiBA,c,iDAmBQC,mB,EA9BzB,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,GAAT,CAAcC,IAAd,CAAoBC,GAApB,CAAyBC,UAAzB,KAA2C,oBAA3C,CACA,OAASC,oBAAT,CAA+BC,sBAA/B,KAA6D,mBAA7D,CACA,OAASC,gBAAT,KAAiC,qBAAjC,CAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAgB,CAClC,MAAOT,CAAAA,KAAK,CAACU,GAAN,gEAAwFD,EAAxF,gBAAP,CACH,CAFD,CAIA,MAAO,SAAUX,CAAAA,cAAV,mJAA2Ba,OAA3B,MAA2BA,OAA3B,iCAEgC,MAAMT,CAAAA,IAAI,CAAC,UAAM,CAC5C,MAAOM,CAAAA,aAAa,CAACG,OAAD,CAApB,CACH,CAFwC,CAAV,CAFhC,OAEOC,QAFP,+BAKC,MAAMT,CAAAA,GAAG,CACLG,sBAAsB,CAAC,CACnBO,UAAU,CAAED,QAAQ,CAACE,IADF,CAAD,CADjB,CAAT,CALD,uGAWC,MAAMX,CAAAA,GAAG,CACLE,oBAAoB,CAAC,CACjBU,KAAK,CAAE,0BADU,CAAD,CADf,CAAT,CAXD,oEAmBP,cAAe,SAAUhB,CAAAA,mBAAV,mJACX,MAAME,CAAAA,GAAG,CAAC,CAACG,UAAU,CAACG,gBAAD,CAAmBT,cAAnB,CAAX,CAAD,CAAT,CADW","sourcesContent":["import axios from 'axios';\nimport { AnyAction } from 'redux';\nimport { all, call, put, takeLatest } from 'redux-saga/effects';\nimport { fetchActivitiesError, fetchActivitiesSuccess } from './activityActions';\nimport { FETCH_ACTIVITIES } from './activityConstants';\nimport { Activity } from '../activityModels';\n\nconst getActivities = (id: number) => {\n    return axios.get<{ data: Activity[] }>(`http://localhost:8080/pulp-events/suggestions/events/${id}/activities`);\n};\n\nexport function* callActivities({ eventId }: AnyAction) {\n    try {\n        const response: { data: [] } = yield call(() => {\n            return getActivities(eventId);\n        });\n        yield put(\n            fetchActivitiesSuccess({\n                activities: response.data,\n            }),\n        );\n    } catch (e) {\n        yield put(\n            fetchActivitiesError({\n                error: 'Failed to Get Activities',\n            }),\n        );\n    }\n}\n\nexport default function* fetchActivitiesSaga() {\n    yield all([takeLatest(FETCH_ACTIVITIES, callActivities)]);\n}\n"]},"metadata":{},"sourceType":"module"}